<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SimpleSolar</title>
    <meta name="description" content="Free Bootstrap Theme by BootstrapMade.com">
    <meta name="keywords" content="free website templates, free bootstrap themes, free template, free bootstrap, free website template">

    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Fira+Sans|Roboto:300,400|Questrial|Satisfy">
    <link rel="stylesheet" type="text/css" href="static/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="static/css/animate.css">
    <link rel="stylesheet" type="text/css" href="static/css/style.css">

    <!-- =======================================================
        Theme Name: Laura
        Theme URL: https://bootstrapmade.com/laura-free-creative-bootstrap-theme/
        Author: BootstrapMade.com
        Author URL: https://bootstrapmade.com
    ======================================================= -->
  </head>
  <body id="myPage" data-spy="scroll" data-target=".navbar" data-offset="60" >
  <div id="overlay"></div>
  <div class="header">
      <div class="bg-color">
        <header id="main-header">
        <nav class="navbar navbar-default navbar-fixed-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#lauraMenu">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="{{ url_for('main.index') }}">SimpleSolar</a>
            </div>
            <div class="collapse navbar-collapse" id="lauraMenu">
              <ul class="nav navbar-nav navbar-right navbar-border">
                <li class="active"><a href="{{ url_for('main.index') }}">Home</a></li>
              </ul>
            </div>
          </div>
        </nav>
        </header>




  <section id="contact" class="section-padding wow fadeIn delay-05s">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="contact-sec text-center">
            <h2>Hey <span class="deco">Space explorer  !</span> Read the following data from your space craft!</h2>

          </div>
        </div>

        <div class="col-md-8 col-md-push-2">
            <div id="sendmessage">Your message has been sent. Thank you!</div>
            <div id="errormessage"></div>
            </div>
            <form action="" role="form" class="contactForm">
                <div class="form-group">
                  <label>Barometric Reading (Hg)</label>
                    <input id="barometric" type="number" step="0.01" class="form-control" placeholder="in Hg" name="institution">
                </div>
                <div class="form-group">
                  <label>Wind direction (in degrees)</label>
                    <input id="wind_direction" type="number" step="0.01" class="form-control" placeholder="in degrees" name="institution">
                </div>
                <div class="form-group">
                  <label>Wind speed (in miles/hr)</label>
                    <input id="wind_speed" type="number" step="0.01" class="form-control" placeholder="in miles/hr" name="institution">
                </div>
                <div class="form-group">
                  <label>Humidity (in %)</label>
                    <input id="humidity" type="number" step="0.01" class="form-control" placeholder="in %" name="institution">
                </div>
                <div class="form-group">
                  <label>Temperature (in Farenheit)</label>
                    <input id="temp" type="number" step="0.01" class="form-control" placeholder="in Farenheit" name="institution">
                </div>
                <div>
                <label>Solar Panel Area (in m(squared))</label>
                    <input id="panel_area" type="number" step="0.01" class="form-control" placeholder="in m^2" name="institution">
                </div>
                <div class="form-group">
                  <label>Module Efficiency (in %)</label>
                    <input id="eff" type="number" step="0.01" class="form-control" placeholder="in %" name="institution">
                </div>
                <div class="text-center" >
                  <button type="submit" onclick="getPower()"class="btn btn-primary btn-lg">Proceed</button>
                </div>
            </form>
        </div>

      </div>
    </div>
  </section>
  <footer class="footer-2 text-center-xs bg--white">
    <div class="container">
      <!--end row-->
      <div class="row">
          <div class="col-md-6">
              <div class="footer">
                  Â© Copyright SimpleSolar. All Rights Reserved
                    <div class="credits">
                        <!--
                            All the links in the footer should remain intact.
                            You can delete the links only if you purchased the pro version.
                            Licensing information: https://bootstrapmade.com/license/
                            Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=Laura
                        -->
                        Designed by <a href="https://bootstrapmade.com/">BootstrapMade.com</a>
                    </div>
              </div>
          </div>
          <div class="col-md-6 text-right">
              <ul class="social-list">
                  <li>
                      <a href="#">
                          <i class="fa fa-twitter"></i>
                      </a>
                  </li>
                  <li>
                      <a href="#">
                          <i class="fa fa-dribbble"></i>
                      </a>
                  </li>
                  <li>
                      <a href="#">
                          <i class="fa fa-vimeo"></i>
                      </a>
                  </li>
                  <li>
                      <a href="#">
                          <i class="fa fa-instagram"></i>
                      </a>
                  </li>
              </ul>
          </div>

      </div>
      <!--end row-->
    </div>
  </footer>

    <script src="static/js/jquery.min.js"></script>
    <script src="static/js/jquery.easing.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
    <script src="static/js/jquery.bxslider.min.js"></script>
    <script src="static/js/wow.js"></script>
    <script src="static/js/custom.js"></script>
    <script>

    function getPower() {
      $("body").append('<div id="overlay" style="background-color:grey;position:absolute;top:0;left:0;height:100%;width:100%;z-index:999></div>');
      var pressure = parseFloat($("#barometric").val());
      var humidity = parseFloat($("#humidity").val());
      var wind_speed = parseFloat($("#wind_speed").val());
      var temp = parseFloat($("#temp").val());
      var efficiency = parseFloat($("#eff").val());
      var size = parseFloat($("#panel_area").val());
      var wind_direction = parseFloat($("#wind_direction").val());
      $.getJSON('http://localhost:5000/api/v1/predict?barometric='+pressure+'&humidity='+humidity+'&speed='+wind_speed+'&temp='+temp+'&eff='+efficiency+'&panel_area='+size+'&direction='+wind_direction)
   .done (function(power)
   {
     $(location).attr('href', 'http://localhost:5000/appliance/'+power.total)
    });
    }
    </script>

  </body>
</html>
